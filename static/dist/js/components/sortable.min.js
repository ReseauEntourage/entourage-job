/*! UIkit 3.5.8 | https://www.getuikit.com | (c) 2014 - 2020 YOOtheme | MIT License */

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("uikit-util")):"function"==typeof define&&define.amd?define("uikitsortable",["uikit-util"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).UIkitSortable=e(t.UIkit.util)}(this,function(l){"use strict";var h,c="uk-animation-target";function d(t,e){var i=l.css(t,"zIndex");return!!l.isVisible(t)&&l.assign({display:"",opacity:e?l.css(t,"opacity"):"0",pointerEvents:"none",position:"absolute",zIndex:"auto"===i?l.index(t):i},p(t))}function u(t){l.css(t.children,{height:"",left:"",opacity:"",pointerEvents:"",position:"",top:"",width:""}),l.removeClass(t,c),l.css(t,{height:"",display:""})}function p(t){var e=l.offset(t),i=e.height,e=e.width,t=l.position(t);return{top:t.top,left:t.left,height:i,width:e}}var o,t={mixins:[{connected:function(){l.hasClass(this.$el,this.$name)||l.addClass(this.$el,this.$name)}},{props:{animation:Number},data:{animation:150},methods:{animate:function(t,i){var s=this;void 0===i&&(i=this.$el),function(){if(h)return;(h=l.append(document.head,"<style>").sheet).insertRule("."+c+" > * {\n            margin-top: 0 !important;\n            transform: none !important;\n        }",0)}();var n=l.children(i),o=n.map(function(t){return d(t,!0)}),e=l.height(i),r=window.pageYOffset;t(),l.Transition.cancel(i),n.forEach(l.Transition.cancel),u(i),this.$update(i,"resize"),l.fastdom.flush();var t=l.height(i),a=(n=n.concat(l.children(i).filter(function(t){return!l.includes(n,t)}))).map(function(t,e){return!!(t.parentNode&&e in o)&&(o[e]?l.isVisible(t)?p(t):{opacity:0}:{opacity:l.isVisible(t)?1:0})}),o=a.map(function(t,e){e=n[e].parentNode===i&&(o[e]||d(n[e]));return e&&(t?"opacity"in t||(e.opacity%1?t.opacity=1:delete e.opacity):delete e.opacity),e});return l.addClass(i,c),n.forEach(function(t,e){return o[e]&&l.css(t,o[e])}),l.css(i,{height:e,display:"block"}),l.scrollTop(window,r),l.Promise.all(n.map(function(t,e){return["top","left","height","width"].some(function(t){return o[e][t]!==a[e][t]})&&l.Transition.start(t,a[e],s.animation,"ease")}).concat(e!==t&&l.Transition.start(i,{height:t},this.animation,"ease"))).then(function(){n.forEach(function(t,e){return l.css(t,{display:0===a[e].opacity?"none":"",zIndex:""})}),u(i),s.$update(i,"resize"),l.fastdom.flush()},l.noop)}}}],props:{group:String,threshold:Number,clsItem:String,clsPlaceholder:String,clsDrag:String,clsDragState:String,clsBase:String,clsNoDrag:String,clsEmpty:String,clsCustom:String,handle:String},data:{group:!1,threshold:5,clsItem:"uk-sortable-item",clsPlaceholder:"uk-sortable-placeholder",clsDrag:"uk-sortable-drag",clsDragState:"uk-drag",clsBase:"uk-sortable",clsNoDrag:"uk-sortable-nodrag",clsEmpty:"uk-sortable-empty",clsCustom:"",handle:!1,pos:{}},created:function(){var i=this;["init","start","move","end"].forEach(function(t){var e=i[t];i[t]=function(t){l.assign(i.pos,l.getEventPos(t)),e(t)}})},events:{name:l.pointerDown,passive:!1,handler:"init"},computed:{target:function(){return(this.$el.tBodies||[this.$el])[0]},items:function(){return l.children(this.target)},isEmpty:{get:function(){return l.isEmpty(this.items)},watch:function(t){l.toggleClass(this.target,this.clsEmpty,t)},immediate:!0},handles:{get:function(t,e){t=t.handle;return t?l.$$(t,e):this.items},watch:function(t,e){l.css(e,{touchAction:"",userSelect:""}),l.css(t,{touchAction:l.hasTouch?"none":"",userSelect:"none"})},immediate:!0}},update:{write:function(){if(this.drag&&l.parent(this.placeholder)){var t=this.pos,e=t.x,i=t.y,s=this.origin,n=s.offsetTop,o=s.offsetLeft,r=this.drag,a=r.offsetHeight,t=r.offsetWidth,s=l.offset(window),r=s.right,s=s.bottom,h=document.elementFromPoint(e,i);l.css(this.drag,{top:l.clamp(i-n,0,s-a),left:l.clamp(e-o,0,r-t)});o=this.getSortable(h),r=this.getSortable(this.placeholder),t=o!==r;if(o&&!l.within(h,this.placeholder)&&(!t||o.group&&o.group===r.group)){if(h=o.target===h.parentNode&&h||o.items.filter(function(t){return l.within(h,t)})[0],t)r.remove(this.placeholder);else if(!h)return;o.insert(this.placeholder,h),l.includes(this.touched,o)||this.touched.push(o)}}},events:["move"]},methods:{init:function(t){var e=t.target,i=t.button,s=t.defaultPrevented,n=this.items.filter(function(t){return l.within(e,t)})[0];!n||s||0<i||l.isInput(e)||l.within(e,"."+this.clsNoDrag)||this.handle&&!l.within(e,this.handle)||(t.preventDefault(),this.touched=[this],this.placeholder=n,this.origin=l.assign({target:e,index:l.index(n)},this.pos),l.on(document,l.pointerMove,this.move),l.on(document,l.pointerUp,this.end),this.threshold||this.start(t))},start:function(t){this.drag=function(t,e){t=l.append(t,e.outerHTML.replace(/(^<)(?:li|tr)|(?:li|tr)(\/>$)/g,"$1div$2"));return t.style.setProperty("margin","0","important"),l.css(t,l.assign({boxSizing:"border-box",width:e.offsetWidth,height:e.offsetHeight,overflow:"hidden"},l.css(e,["paddingLeft","paddingRight","paddingTop","paddingBottom"]))),l.height(t.firstElementChild,l.height(e.firstElementChild)),t}(this.$container,this.placeholder);var e,i,s=this.placeholder.getBoundingClientRect(),n=s.left,s=s.top;l.assign(this.origin,{offsetLeft:this.pos.x-n,offsetTop:this.pos.y-s}),l.addClass(this.drag,this.clsDrag,this.clsCustom),l.addClass(this.placeholder,this.clsPlaceholder),l.addClass(this.items,this.clsItem),l.addClass(document.documentElement,this.clsDragState),l.trigger(this.$el,"start",[this,this.placeholder]),e=this.pos,i=Date.now(),o=setInterval(function(){var t=e.x,r=e.y;r+=window.pageYOffset;var a=.3*(Date.now()-i);i=Date.now(),l.scrollParents(document.elementFromPoint(t,e.y)).some(function(t){var e=t.scrollTop,i=t.scrollHeight,s=l.offset(l.getViewport(t)),n=s.top,o=s.bottom,s=s.height;if(n<r&&r<n+30)e-=a;else{if(!(r<o&&o-30<r))return;e+=a}if(0<e&&e<i-s)return l.scrollTop(t,e),!0})},15),this.move(t)},move:function(t){this.drag?this.$emit("move"):(Math.abs(this.pos.x-this.origin.x)>this.threshold||Math.abs(this.pos.y-this.origin.y)>this.threshold)&&this.start(t)},end:function(t){var e,i;l.off(document,l.pointerMove,this.move),l.off(document,l.pointerUp,this.end),l.off(window,"scroll",this.scroll),this.drag&&(clearInterval(o),e=this.getSortable(this.placeholder),this===e?this.origin.index!==l.index(this.placeholder)&&l.trigger(this.$el,"moved",[this,this.placeholder]):(l.trigger(e.$el,"added",[e,this.placeholder]),l.trigger(this.$el,"removed",[this,this.placeholder])),l.trigger(this.$el,"stop",[this,this.placeholder]),l.remove(this.drag),this.drag=null,i=this.touched.map(function(t){return t.clsPlaceholder+" "+t.clsItem}).join(" "),this.touched.forEach(function(t){return l.removeClass(t.items,i)}),l.removeClass(document.documentElement,this.clsDragState))},insert:function(i,s){var n=this;l.addClass(this.items,this.clsItem);function t(){var t,e;s?!l.within(i,n.target)||(e=s,(t=i).parentNode===e.parentNode&&l.index(t)>l.index(e))?l.before(s,i):l.after(s,i):l.append(n.target,i)}this.animation?this.animate(t):t()},remove:function(t){l.within(t,this.target)&&(this.animation?this.animate(function(){return l.remove(t)}):l.remove(t))},getSortable:function(t){return t&&(this.$getComponent(t,"sortable")||this.getSortable(t.parentNode))}}};return"undefined"!=typeof window&&window.UIkit&&window.UIkit.component("sortable",t),t});