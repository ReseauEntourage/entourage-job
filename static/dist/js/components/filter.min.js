/*! UIkit 3.5.8 | https://www.getuikit.com | (c) 2014 - 2020 YOOtheme | MIT License */

!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e(require("uikit-util")):"function"==typeof define&&define.amd?define("uikitfilter",["uikit-util"],e):(t="undefined"!=typeof globalThis?globalThis:t||self).UIkitFilter=e(t.UIkit.util)}(this,function(c){"use strict";var u,l="uk-animation-target";function f(t,e){var i=c.css(t,"zIndex");return!!c.isVisible(t)&&c.assign({display:"",opacity:e?c.css(t,"opacity"):"0",pointerEvents:"none",position:"absolute",zIndex:"auto"===i?c.index(t):i},h(t))}function d(t){c.css(t.children,{height:"",left:"",opacity:"",pointerEvents:"",position:"",top:"",width:""}),c.removeClass(t,l),c.css(t,{height:"",display:""})}function h(t){var e=c.offset(t),i=e.height,e=e.width,t=c.position(t);return{top:t.top,left:t.left,height:i,width:e}}var t={mixins:[{props:{animation:Number},data:{animation:150},methods:{animate:function(t,i){var n=this;void 0===i&&(i=this.$el),function(){if(u)return;(u=c.append(document.head,"<style>").sheet).insertRule("."+l+" > * {\n            margin-top: 0 !important;\n            transform: none !important;\n        }",0)}();var r=c.children(i),o=r.map(function(t){return f(t,!0)}),e=c.height(i),a=window.pageYOffset;t(),c.Transition.cancel(i),r.forEach(c.Transition.cancel),d(i),this.$update(i,"resize"),c.fastdom.flush();var t=c.height(i),s=(r=r.concat(c.children(i).filter(function(t){return!c.includes(r,t)}))).map(function(t,e){return!!(t.parentNode&&e in o)&&(o[e]?c.isVisible(t)?h(t):{opacity:0}:{opacity:c.isVisible(t)?1:0})}),o=s.map(function(t,e){e=r[e].parentNode===i&&(o[e]||f(r[e]));return e&&(t?"opacity"in t||(e.opacity%1?t.opacity=1:delete e.opacity):delete e.opacity),e});return c.addClass(i,l),r.forEach(function(t,e){return o[e]&&c.css(t,o[e])}),c.css(i,{height:e,display:"block"}),c.scrollTop(window,a),c.Promise.all(r.map(function(t,e){return["top","left","height","width"].some(function(t){return o[e][t]!==s[e][t]})&&c.Transition.start(t,s[e],n.animation,"ease")}).concat(e!==t&&c.Transition.start(i,{height:t},this.animation,"ease"))).then(function(){r.forEach(function(t,e){return c.css(t,{display:0===s[e].opacity?"none":"",zIndex:""})}),d(i),n.$update(i,"resize"),c.fastdom.flush()},c.noop)}}}],args:"target",props:{target:Boolean,selActive:Boolean},data:{target:null,selActive:!1,attrItem:"uk-filter-control",cls:"uk-active",animation:250},computed:{toggles:{get:function(t,e){t.attrItem;return c.$$("["+this.attrItem+"],[data-"+this.attrItem+"]",e)},watch:function(){var e,i=this;this.updateState(),!1!==this.selActive&&(e=c.$$(this.selActive,this.$el),this.toggles.forEach(function(t){return c.toggleClass(t,i.cls,c.includes(e,t))}))},immediate:!0},children:{get:function(t,e){t=t.target;return c.$$(t+" > *",e)},watch:function(t,e){var i;i=e,(t=t).length===i.length&&t.every(function(t){return~i.indexOf(t)})||this.updateState()}}},events:[{name:"click",delegate:function(){return"["+this.attrItem+"],[data-"+this.attrItem+"]"},handler:function(t){t.preventDefault(),this.apply(t.current)}}],methods:{apply:function(t){this.setState(n(t,this.attrItem,this.getState()))},getState:function(){var i=this;return this.toggles.filter(function(t){return c.hasClass(t,i.cls)}).reduce(function(t,e){return n(e,i.attrItem,t)},{filter:{"":""},sort:[]})},setState:function(i,n){var r=this;void 0===n&&(n=!0),i=c.assign({filter:{"":""},sort:[]},i),c.trigger(this.$el,"beforeFilter",[this,i]),this.toggles.forEach(function(t){return c.toggleClass(t,r.cls,!!function(t,e,i){var n=i.filter;void 0===n&&(n={"":""});var r=i.sort,o=r[0],a=r[1],i=s(t,e),r=i.filter;void 0===r&&(r="");t=i.group;void 0===t&&(t="");e=i.sort,i=i.order;void 0===i&&(i="asc");return c.isUndefined(e)?t in n&&r===n[t]||!r&&t&&!(t in n)&&!n[""]:o===e&&a===i}(t,r.attrItem,i))}),c.Promise.all(c.$$(this.target,this.$el).map(function(t){var e=c.children(t);return n?r.animate(function(){return o(i,t,e)},t):o(i,t,e)})).then(function(){return c.trigger(r.$el,"afterFilter",[r])})},updateState:function(){var t=this;c.fastdom.write(function(){return t.setState(t.getState(),!1)})}}};function s(t,e){return c.parseOptions(c.data(t,e),["filter"])}function o(t,e,i){var n,r=(u=(u=t).filter,n="",c.each(u,function(t){return n+=t||""}),n);i.forEach(function(t){return c.css(t,"display",r&&!c.matches(t,r)?"none":"")});var o,a,s=t.sort,u=s[0],t=s[1];u&&(s=i,o=u,a=t,s=c.assign([],s).sort(function(t,e){return c.data(t,o).localeCompare(c.data(e,o),void 0,{numeric:!0})*("asc"===a||-1)}),c.isEqual(s,i)||c.append(e,s))}function n(t,e,i){var n=s(t,e),r=n.filter,t=n.group,e=n.sort,n=n.order;return void 0===n&&(n="asc"),(r||c.isUndefined(e))&&(t?r?(delete i.filter[""],i.filter[t]=r):(delete i.filter[t],(c.isEmpty(i.filter)||""in i.filter)&&(i.filter={"":r||""})):i.filter={"":r||""}),c.isUndefined(e)||(i.sort=[e,n]),i}return"undefined"!=typeof window&&window.UIkit&&window.UIkit.component("filter",t),t});